<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Megawheel Tracker PRO</title>

<style>
body {
  font-family: Arial;
  text-align: center;
  background: #f5f7fa;
}

.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 10px;
}

h1 {
  color: #2c3e50;
}

button {
  margin: 3px;
  padding: 8px 12px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 4px #999;
}

button:active {
  transform: translateY(2px);
  box-shadow: 0 2px #666;
}

.btn-normal {
  background: #3498db;
  color: white;
}

.btn-jackpot {
  background: #e67e22;
  color: white;
}

.actions button {
  margin-top: 10px;
  background: #2ecc71;
  color: white;
}

.reset {
  background: #e74c3c;
}

#history {
  margin-top: 15px;
  font-size: 14px;
  word-wrap: break-word;
}

table {
  width: 100%;
  margin-top: 20px;
  border-collapse: collapse;
}

th, td {
  border: 1px solid #ddd;
  padding: 8px;
}

th {
  background: #2c3e50;
  color: white;
}
</style>

</head>
<body>

<div class="container">

<h1>Megawheel Tracker PRO</h1>

<h3>Choisir numéro</h3>
<div id="buttons"></div>

<div class="actions">
  <button onclick="addResult()">+ Ajouter</button>
  <button class="reset" onclick="resetData()">Reset</button>
</div>

<div id="history"></div>

<table>
<thead>
<tr>
<th>Numéro</th>
<th>Fréquence</th>
</tr>
</thead>
<tbody id="stats"></tbody>
</table>

</div>

<script>

// NUMEROS
const numbers = [1,2,5,8,10,15,20,30,40];

// MULTIPLIERS (ton tableau)
const multipliers = {
  1: [5,8,25,88,100],
  2: [8,25,88,100,200],
  5: [15,50,88,100,250],
  8: [20,50,88,100,250],
  10: [20,50,88,100,250],
  15: [50,88,100,250,500],
  20: [50,88,100,250,500],
  30: [88,100,200,300,500],
  40: [88,100,200,300,500]
};

let current = null;
let history = JSON.parse(localStorage.getItem("history")) || [];

// CREER BOUTONS
function createButtons() {
  let container = document.getElementById("buttons");
  container.innerHTML = "";

  numbers.forEach(num => {

    // bouton normal
    let btn = document.createElement("button");
    btn.innerText = num;
    btn.className = "btn-normal";
    btn.onclick = () => selectNumber(num);
    container.appendChild(btn);

    // boutons jackpot
    multipliers[num].forEach(mult => {
      let jbtn = document.createElement("button");
      jbtn.innerHTML = `${num}<sup>${mult}</sup>`;
      jbtn.className = "btn-jackpot";
      jbtn.onclick = () => selectNumber(`${num}^${mult}`);
      container.appendChild(jbtn);
    });

    container.appendChild(document.createElement("br"));
  });
}

// SELECTION
function selectNumber(value) {
  current = value;
}

// AJOUT
function addResult() {
  if (!current) {
    alert("Choisir un numéro");
    return;
  }

  history.push(current);
  localStorage.setItem("history", JSON.stringify(history));

  current = null;
  update();
}

// RESET
function resetData() {
  if (confirm("Supprimer toutes les données ?")) {
    history = [];
    localStorage.removeItem("history");
    update();
  }
}

// UPDATE AFFICHAGE
function update() {

  // historique
  document.getElementById("history").innerText =
    "Historique : " + history.join(" - ");

  // fréquence
  let freq = {};

  history.forEach(item => {
    let base = item.toString().split("^")[0];
    freq[base] = (freq[base] || 0) + 1;
  });

  let table = document.getElementById("stats");
  table.innerHTML = "";

  numbers.forEach(num => {
    let tr = `<tr>
      <td>${num}</td>
      <td>${freq[num] || 0}</td>
    </tr>`;
    table.innerHTML += tr;
  });
}

// INIT
createButtons();
update();

</script>

</body>
</html>
