<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Megawheel Tracker PRO</title>

<style>
body {
  font-family: Arial;
  background: #f5f7fa;
  text-align: center;
}

h1 {
  color: #2c3e50;
}

.container {
  max-width: 800px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

button {
  margin: 5px;
  padding: 10px 15px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 4px #999;
}

button:active {
  box-shadow: 0 2px #666;
  transform: translateY(2px);
}

.normal {
  background: #3498db;
  color: white;
}

.jackpot {
  background: #e67e22;
  color: white;
}

#history {
  margin-top: 15px;
  font-size: 14px;
}

.table {
  margin-top: 20px;
  width: 100%;
  border-collapse: collapse;
}

.table th, .table td {
  border: 1px solid #ddd;
  padding: 8px;
}

.table th {
  background: #2c3e50;
  color: white;
}
</style>
</head>

<body>

<div class="container">
<h1>Megawheel Tracker PRO</h1>

<h3>Choisir numéro</h3>
<div id="buttons"></div>

<button onclick="addResult()">+ Ajouter</button>
<button onclick="resetData()">Reset</button>

<div id="history"></div>

<table class="table" id="stats">
<thead>
<tr>
<th>Numéro</th>
<th>Fréquence</th>
</tr>
</thead>
<tbody></tbody>
</table>

</div>

<script>

// Multiplicateurs
const multipliers = {
  1: [5,8,25,88,100],
  2: [8,25,88,100,200],
  5: [15,50,88,100,250],
  8: [20,50,88,100,250],
  10: [20,50,88,100,250],
  15: [50,88,100,250,500],
  20: [50,88,100,250,500],
  30: [88,100,200,300,500],
  40: [88,100,200,300,500]
};

let current = null;
let history = JSON.parse(localStorage.getItem('history')) || [];

// Générer boutons
function createButtons(){
  const container = document.getElementById('buttons');
  container.innerHTML = '';

  for(let num in multipliers){
    
    // bouton normal
    let btn = document.createElement('button');
    btn.innerText = num;
    btn.className = 'normal';
    btn.onclick = ()=> select(num);
    container.appendChild(btn);

    // boutons jackpot
    multipliers[num].forEach(m=>{
      let jbtn = document.createElement('button');
      jbtn.innerHTML = `${num}<sup>${m}</sup>`;
      jbtn.className = 'jackpot';
      jbtn.onclick = ()=> select(`${num}^${m}`);
      container.appendChild(jbtn);
    });

    container.appendChild(document.createElement('br'));
  }
}

function select(value){
  current = value;
}

function addResult(){
  if(!current) return alert('Choisir un numéro');

  history.push(current);
  localStorage.setItem('history', JSON.stringify(history));

  current = null;
  update();
}

function resetData(){
  if(confirm('Supprimer données ?')){
    history = [];
    localStorage.removeItem('history');
    update();
  }
}

function update(){
  document.getElementById('history').innerText = history.join(' - ');

  let freq = {};

  history.forEach(h=>{
    let num = h.split('^')[0];
    freq[num] = (freq[num] || 0) + 1;
  });

  let tbody = document.querySelector('#stats tbody');
  tbody.innerHTML = '';

  for(let n in multipliers){
    let tr = `<tr><td>${n}</td><td>${freq[n] || 0}</td></tr>`;
    tbody.innerHTML += tr;
  }
}

createButtons();
update();

</script>

</body>
</html>
